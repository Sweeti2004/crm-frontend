{"ast":null,"code":"import { fetchTicketLoading, fetchTicketSuccess, fetchTicketFail, searchTickets, fetchSingleTicketLoading, fetchSingleTicketSuccess, fetchSingleTicketFail, replyTicketLoading, replyTicketSuccess, replyTicketFail } from \"./ticketsSlice\";\nimport { getAllTickets, getSingleTicket, updateReplyTicket, updateTicketStatusClosed } from '../../api/ticketApi';\nexport const fetchAllTickets = () => async dispatch => {\n  dispatch(fetchTicketLoading());\n  try {\n    const result = await getAllTickets();\n    if (result.data.status === \"success\") {\n      dispatch(fetchTicketSuccess(result.data.result));\n    } else {\n      dispatch(fetchTicketFail(result.data.message));\n    }\n  } catch (error) {\n    dispatch(fetchTicketFail(error.message));\n  }\n};\nexport const filterSerachTicket = str => dispatch => {\n  dispatch(searchTickets(str));\n};\n\n// Actions for single ticket only\nexport const fetchSingleTicket = _id => async dispatch => {\n  dispatch(fetchSingleTicketLoading());\n  try {\n    const result = await getSingleTicket(_id);\n    if (result.data.status === \"success\") {\n      dispatch(fetchSingleTicketSuccess(result.data.result.length && result.data.result));\n    } else {\n      dispatch(fetchSingleTicketFail(result.data.message));\n    }\n  } catch (error) {\n    dispatch(fetchSingleTicketFail(error.message));\n  }\n};\n\n//Actions for replying on single ticket\nexport const replyOnTicket = (_id, msgObj) => async dispatch => {\n  dispatch(replyTicketLoading());\n  try {\n    const result = await updateReplyTicket(_id, msgObj);\n    console.log(result);\n    if (result.status === \"error\") {\n      return dispatch(replyTicketFail(result.message));\n    }\n    dispatch(fetchSingleTicket(_id));\n    dispatch(replyTicketSuccess(result.message));\n  } catch (error) {\n    console.log(error.message);\n    dispatch(replyTicketFail(error.message));\n  }\n};","map":{"version":3,"names":["fetchTicketLoading","fetchTicketSuccess","fetchTicketFail","searchTickets","fetchSingleTicketLoading","fetchSingleTicketSuccess","fetchSingleTicketFail","replyTicketLoading","replyTicketSuccess","replyTicketFail","getAllTickets","getSingleTicket","updateReplyTicket","updateTicketStatusClosed","fetchAllTickets","dispatch","result","data","status","message","error","filterSerachTicket","str","fetchSingleTicket","_id","length","replyOnTicket","msgObj","console","log"],"sources":["C:/Users/hp/OneDrive/Documents/Desktop/CRM/crm-frontend/frontend/src/page/ticket-list/ticketsAction.js"],"sourcesContent":["import {\r\n  fetchTicketLoading,\r\n  fetchTicketSuccess,\r\n  fetchTicketFail,\r\n  searchTickets,\r\n  fetchSingleTicketLoading,\r\n  fetchSingleTicketSuccess,\r\n  fetchSingleTicketFail,\r\n  replyTicketLoading,\r\n  replyTicketSuccess,\r\n  replyTicketFail\r\n} from \"./ticketsSlice\";\r\n\r\nimport { getAllTickets, getSingleTicket,updateReplyTicket,updateTicketStatusClosed } from '../../api/ticketApi';\r\n\r\nexport const fetchAllTickets = () => async (dispatch) => {\r\n  dispatch(fetchTicketLoading());\r\n  try {\r\n    const result = await getAllTickets();\r\n\r\n    if (result.data.status === \"success\") {\r\n      dispatch(fetchTicketSuccess(result.data.result));\r\n    } else {\r\n      dispatch(fetchTicketFail(result.data.message));\r\n    }\r\n\r\n  } catch (error) {\r\n    dispatch(fetchTicketFail(error.message));\r\n  }\r\n};\r\n\r\nexport const filterSerachTicket = (str) => (dispatch) => {\r\n  dispatch(searchTickets(str));\r\n};\r\n\r\n// Actions for single ticket only\r\nexport const fetchSingleTicket = (_id) => async (dispatch) => {\r\n  dispatch(fetchSingleTicketLoading());\r\n  try {\r\n    const result = await getSingleTicket(_id);\r\n\r\n    if (result.data.status === \"success\") {\r\n      dispatch(fetchSingleTicketSuccess(result.data.result.length && result.data.result));\r\n    } else {\r\n      dispatch(fetchSingleTicketFail(result.data.message));\r\n    }\r\n\r\n  } catch (error) {\r\n    dispatch(fetchSingleTicketFail(error.message));\r\n  }\r\n};\r\n\r\n//Actions for replying on single ticket\r\nexport const replyOnTicket = (_id, msgObj) => async (dispatch) => {\r\n  dispatch(replyTicketLoading());\r\n  try {\r\n     const result = await updateReplyTicket(_id, msgObj);\r\n    console.log(result);\r\n    if (result.status === \"error\") {\r\n      return dispatch(replyTicketFail(result.message));\r\n    }\r\n\r\n    dispatch(fetchSingleTicket(_id));\r\n\r\n    dispatch(replyTicketSuccess(result.message));\r\n  } catch (error) {\r\n    console.log(error.message);\r\n    dispatch(replyTicketFail(error.message));\r\n  }\r\n};\r\n\r\n"],"mappings":"AAAA,SACEA,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,EACfC,aAAa,EACbC,wBAAwB,EACxBC,wBAAwB,EACxBC,qBAAqB,EACrBC,kBAAkB,EAClBC,kBAAkB,EAClBC,eAAe,QACV,gBAAgB;AAEvB,SAASC,aAAa,EAAEC,eAAe,EAACC,iBAAiB,EAACC,wBAAwB,QAAQ,qBAAqB;AAE/G,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EACvDA,QAAQ,CAACf,kBAAkB,CAAC,CAAC,CAAC;EAC9B,IAAI;IACF,MAAMgB,MAAM,GAAG,MAAMN,aAAa,CAAC,CAAC;IAEpC,IAAIM,MAAM,CAACC,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;MACpCH,QAAQ,CAACd,kBAAkB,CAACe,MAAM,CAACC,IAAI,CAACD,MAAM,CAAC,CAAC;IAClD,CAAC,MAAM;MACLD,QAAQ,CAACb,eAAe,CAACc,MAAM,CAACC,IAAI,CAACE,OAAO,CAAC,CAAC;IAChD;EAEF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdL,QAAQ,CAACb,eAAe,CAACkB,KAAK,CAACD,OAAO,CAAC,CAAC;EAC1C;AACF,CAAC;AAED,OAAO,MAAME,kBAAkB,GAAIC,GAAG,IAAMP,QAAQ,IAAK;EACvDA,QAAQ,CAACZ,aAAa,CAACmB,GAAG,CAAC,CAAC;AAC9B,CAAC;;AAED;AACA,OAAO,MAAMC,iBAAiB,GAAIC,GAAG,IAAK,MAAOT,QAAQ,IAAK;EAC5DA,QAAQ,CAACX,wBAAwB,CAAC,CAAC,CAAC;EACpC,IAAI;IACF,MAAMY,MAAM,GAAG,MAAML,eAAe,CAACa,GAAG,CAAC;IAEzC,IAAIR,MAAM,CAACC,IAAI,CAACC,MAAM,KAAK,SAAS,EAAE;MACpCH,QAAQ,CAACV,wBAAwB,CAACW,MAAM,CAACC,IAAI,CAACD,MAAM,CAACS,MAAM,IAAIT,MAAM,CAACC,IAAI,CAACD,MAAM,CAAC,CAAC;IACrF,CAAC,MAAM;MACLD,QAAQ,CAACT,qBAAqB,CAACU,MAAM,CAACC,IAAI,CAACE,OAAO,CAAC,CAAC;IACtD;EAEF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdL,QAAQ,CAACT,qBAAqB,CAACc,KAAK,CAACD,OAAO,CAAC,CAAC;EAChD;AACF,CAAC;;AAED;AACA,OAAO,MAAMO,aAAa,GAAGA,CAACF,GAAG,EAAEG,MAAM,KAAK,MAAOZ,QAAQ,IAAK;EAChEA,QAAQ,CAACR,kBAAkB,CAAC,CAAC,CAAC;EAC9B,IAAI;IACD,MAAMS,MAAM,GAAG,MAAMJ,iBAAiB,CAACY,GAAG,EAAEG,MAAM,CAAC;IACpDC,OAAO,CAACC,GAAG,CAACb,MAAM,CAAC;IACnB,IAAIA,MAAM,CAACE,MAAM,KAAK,OAAO,EAAE;MAC7B,OAAOH,QAAQ,CAACN,eAAe,CAACO,MAAM,CAACG,OAAO,CAAC,CAAC;IAClD;IAEAJ,QAAQ,CAACQ,iBAAiB,CAACC,GAAG,CAAC,CAAC;IAEhCT,QAAQ,CAACP,kBAAkB,CAACQ,MAAM,CAACG,OAAO,CAAC,CAAC;EAC9C,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdQ,OAAO,CAACC,GAAG,CAACT,KAAK,CAACD,OAAO,CAAC;IAC1BJ,QAAQ,CAACN,eAAe,CAACW,KAAK,CAACD,OAAO,CAAC,CAAC;EAC1C;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}