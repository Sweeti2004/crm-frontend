{"ast":null,"code":"import axios from'axios';const rootUrl=process.env.REACT_APP_API_URL;const ticketUrl=`${rootUrl}/ticket`;const closeTicketUrl=`${rootUrl}/ticket/close-ticket/`;// trailing slash is fine here\nexport const getAllTickets=async()=>{try{const result=await axios.get(ticketUrl,{headers:{Authorization:\"Bearer \"+sessionStorage.getItem(\"accessJWT\")}});return result;}catch(error){var _error$response;console.error(\"getAllTickets Error:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);throw error;}};export const getSingleTicket=async _id=>{try{const result=await axios.get(`${ticketUrl}/${_id}`,{headers:{Authorization:\"Bearer \"+sessionStorage.getItem(\"accessJWT\")}});return result;}catch(error){var _error$response2;console.error(\"getSingleTicket Error:\",((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||error.message);throw error;}};export const updateReplyTicket=(_id,msgObj)=>{return new Promise(async(resolve,reject)=>{try{const result=await axios.put(`${ticketUrl}/${_id}`,msgObj,{headers:{Authorization:\"Bearer \"+sessionStorage.getItem(\"accessJWT\")}});resolve(result.data);}catch(error){console.log(error.message);reject(error);}});};export const updateTicketStatusClosed=_id=>{return new Promise(async(resolve,reject)=>{try{const result=await axios.patch(closeTicketUrl+_id,{},{headers:{Authorization:\"Bearer \"+sessionStorage.getItem(\"accessJWT\")}});resolve(result.data);}catch(error){console.log(error.message);reject(error);}});};export const createNewTicket=frmData=>{console.log(\"from api\",frmData);return new Promise(async(resolve,reject)=>{try{const result=await axios.post(ticketUrl,frmData,{headers:{Authorization:\"Bearer \"+sessionStorage.getItem(\"accessJWT\")}});resolve(result.data);}catch(error){console.log(error.message);reject(error);}});};","map":{"version":3,"names":["axios","rootUrl","process","env","REACT_APP_API_URL","ticketUrl","closeTicketUrl","getAllTickets","result","get","headers","Authorization","sessionStorage","getItem","error","_error$response","console","response","data","message","getSingleTicket","_id","_error$response2","updateReplyTicket","msgObj","Promise","resolve","reject","put","log","updateTicketStatusClosed","patch","createNewTicket","frmData","post"],"sources":["C:/Users/hp/OneDrive/Documents/Desktop/CRM/crm-frontend/frontend/src/api/ticketApi.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst rootUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst ticketUrl = `${rootUrl}/ticket`;\r\nconst closeTicketUrl = `${rootUrl}/ticket/close-ticket/`; // trailing slash is fine here\r\n\r\n\r\nexport const getAllTickets = async () => {\r\n  try {\r\n    const result = await axios.get(ticketUrl, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\"),\r\n      },\r\n    });\r\n    return result;\r\n  } catch (error) {\r\n    console.error(\"getAllTickets Error:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSingleTicket = async (_id) => {\r\n  try {\r\n    const result = await axios.get(`${ticketUrl}/${_id}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\"),\r\n      },\r\n    });\r\n    return result;\r\n  } catch (error) {\r\n    console.error(\"getSingleTicket Error:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateReplyTicket = (_id, msgObj) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const result = await axios.put(`${ticketUrl}/${_id}`,msgObj, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\"),\r\n      },\r\n    });\r\n      resolve(result.data);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const updateTicketStatusClosed = (_id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const result = await axios.patch(\r\n        closeTicketUrl + _id,\r\n         {},\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \"+sessionStorage.getItem(\"accessJWT\"),\r\n          },\r\n        }\r\n      );\r\n\r\n      resolve(result.data);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const createNewTicket = (frmData) => {\r\n  console.log(\"from api\", frmData);\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const result = await axios.post(ticketUrl, frmData, {\r\n        headers: {\r\n          Authorization: \"Bearer \"+ sessionStorage.getItem(\"accessJWT\"),\r\n        },\r\n      });\r\n\r\n      resolve(result.data);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      reject(error);\r\n    }\r\n  });\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}