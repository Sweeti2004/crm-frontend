{"ast":null,"code":"import axios from 'axios';\nconst rootUrl = 'http://localhost:5000/v1';\nconst ticketUrl = `${rootUrl}/ticket`;\nconst closeTicketUrl = rootUrl + \"ticket/close-ticket/\";\nexport const getAllTickets = async () => {\n  try {\n    const result = await axios.get(ticketUrl, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\")\n      }\n    });\n    return result;\n  } catch (error) {\n    var _error$response;\n    console.error(\"getAllTickets Error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    throw error;\n  }\n};\nexport const getSingleTicket = async _id => {\n  try {\n    const result = await axios.get(`${ticketUrl}/${_id}`, {\n      headers: {\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\")\n      }\n    });\n    return result;\n  } catch (error) {\n    var _error$response2;\n    console.error(\"getSingleTicket Error:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n    throw error;\n  }\n};\nexport const updateReplyTicket = (_id, msgObj) => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.put(`${ticketUrl}/${_id}`, msgObj, {\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\")\n        }\n      });\n      resolve(result.data);\n    } catch (error) {\n      console.log(error.message);\n      reject(error);\n    }\n  });\n};\nexport const updateTicketStatusClosed = _id => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await axios.patch(closeTicketUrl + _id, {}, {\n        headers: {\n          Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\")\n        }\n      });\n      resolve(result.data);\n    } catch (error) {\n      console.log(error.message);\n      reject(error);\n    }\n  });\n};","map":{"version":3,"names":["axios","rootUrl","ticketUrl","closeTicketUrl","getAllTickets","result","get","headers","Authorization","sessionStorage","getItem","error","_error$response","console","response","data","message","getSingleTicket","_id","_error$response2","updateReplyTicket","msgObj","Promise","resolve","reject","put","log","updateTicketStatusClosed","patch"],"sources":["C:/Users/hp/OneDrive/Documents/Desktop/CRM/crm-frontend/frontend/src/api/ticketApi.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst rootUrl = 'http://localhost:5000/v1';\r\nconst ticketUrl = `${rootUrl}/ticket`;\r\nconst closeTicketUrl=rootUrl+\"ticket/close-ticket/\"\r\n\r\nexport const getAllTickets = async () => {\r\n  try {\r\n    const result = await axios.get(ticketUrl, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\"),\r\n      },\r\n    });\r\n    return result;\r\n  } catch (error) {\r\n    console.error(\"getAllTickets Error:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSingleTicket = async (_id) => {\r\n  try {\r\n    const result = await axios.get(`${ticketUrl}/${_id}`, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\"),\r\n      },\r\n    });\r\n    return result;\r\n  } catch (error) {\r\n    console.error(\"getSingleTicket Error:\", error.response?.data || error.message);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateReplyTicket = (_id, msgObj) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const result = await axios.put(`${ticketUrl}/${_id}`,msgObj, {\r\n      headers: {\r\n        Authorization: \"Bearer \" + sessionStorage.getItem(\"accessJWT\"),\r\n      },\r\n    });\r\n      resolve(result.data);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\nexport const updateTicketStatusClosed = (_id) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    try {\r\n      const result = await axios.patch(\r\n        closeTicketUrl + _id,\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: \"Bearer \"+sessionStorage.getItem(\"accessJWT\"),\r\n          },\r\n        }\r\n      );\r\n\r\n      resolve(result.data);\r\n    } catch (error) {\r\n      console.log(error.message);\r\n      reject(error);\r\n    }\r\n  });\r\n};\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,0BAA0B;AAC1C,MAAMC,SAAS,GAAG,GAAGD,OAAO,SAAS;AACrC,MAAME,cAAc,GAACF,OAAO,GAAC,sBAAsB;AAEnD,OAAO,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;EACvC,IAAI;IACF,MAAMC,MAAM,GAAG,MAAML,KAAK,CAACM,GAAG,CAACJ,SAAS,EAAE;MACxCK,OAAO,EAAE;QACPC,aAAa,EAAE,SAAS,GAAGC,cAAc,CAACC,OAAO,CAAC,WAAW;MAC/D;IACF,CAAC,CAAC;IACF,OAAOL,MAAM;EACf,CAAC,CAAC,OAAOM,KAAK,EAAE;IAAA,IAAAC,eAAA;IACdC,OAAO,CAACF,KAAK,CAAC,sBAAsB,EAAE,EAAAC,eAAA,GAAAD,KAAK,CAACG,QAAQ,cAAAF,eAAA,uBAAdA,eAAA,CAAgBG,IAAI,KAAIJ,KAAK,CAACK,OAAO,CAAC;IAC5E,MAAML,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMM,eAAe,GAAG,MAAOC,GAAG,IAAK;EAC5C,IAAI;IACF,MAAMb,MAAM,GAAG,MAAML,KAAK,CAACM,GAAG,CAAC,GAAGJ,SAAS,IAAIgB,GAAG,EAAE,EAAE;MACpDX,OAAO,EAAE;QACPC,aAAa,EAAE,SAAS,GAAGC,cAAc,CAACC,OAAO,CAAC,WAAW;MAC/D;IACF,CAAC,CAAC;IACF,OAAOL,MAAM;EACf,CAAC,CAAC,OAAOM,KAAK,EAAE;IAAA,IAAAQ,gBAAA;IACdN,OAAO,CAACF,KAAK,CAAC,wBAAwB,EAAE,EAAAQ,gBAAA,GAAAR,KAAK,CAACG,QAAQ,cAAAK,gBAAA,uBAAdA,gBAAA,CAAgBJ,IAAI,KAAIJ,KAAK,CAACK,OAAO,CAAC;IAC9E,MAAML,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMS,iBAAiB,GAAGA,CAACF,GAAG,EAAEG,MAAM,KAAK;EAChD,OAAO,IAAIC,OAAO,CAAC,OAAOC,OAAO,EAAEC,MAAM,KAAK;IAC5C,IAAI;MACF,MAAMnB,MAAM,GAAG,MAAML,KAAK,CAACyB,GAAG,CAAC,GAAGvB,SAAS,IAAIgB,GAAG,EAAE,EAACG,MAAM,EAAE;QAC7Dd,OAAO,EAAE;UACPC,aAAa,EAAE,SAAS,GAAGC,cAAc,CAACC,OAAO,CAAC,WAAW;QAC/D;MACF,CAAC,CAAC;MACAa,OAAO,CAAClB,MAAM,CAACU,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdE,OAAO,CAACa,GAAG,CAACf,KAAK,CAACK,OAAO,CAAC;MAC1BQ,MAAM,CAACb,KAAK,CAAC;IACf;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMgB,wBAAwB,GAAIT,GAAG,IAAK;EAC/C,OAAO,IAAII,OAAO,CAAC,OAAOC,OAAO,EAAEC,MAAM,KAAK;IAC5C,IAAI;MACF,MAAMnB,MAAM,GAAG,MAAML,KAAK,CAAC4B,KAAK,CAC9BzB,cAAc,GAAGe,GAAG,EACpB,CAAC,CAAC,EACF;QACEX,OAAO,EAAE;UACPC,aAAa,EAAE,SAAS,GAACC,cAAc,CAACC,OAAO,CAAC,WAAW;QAC7D;MACF,CACF,CAAC;MAEDa,OAAO,CAAClB,MAAM,CAACU,IAAI,CAAC;IACtB,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACdE,OAAO,CAACa,GAAG,CAACf,KAAK,CAACK,OAAO,CAAC;MAC1BQ,MAAM,CAACb,KAAK,CAAC;IACf;EACF,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}